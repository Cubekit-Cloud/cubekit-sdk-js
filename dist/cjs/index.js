"use strict";var e,t,s,o,r,i,a,n,p,u,E,d,x=require("axios");exports.RelationsModesEnum=void 0,(e=exports.RelationsModesEnum||(exports.RelationsModesEnum={})).SYNC="sync",e.ATTACH="attach",e.DETACH="detach",exports.OperatorsEnum=void 0,(t=exports.OperatorsEnum||(exports.OperatorsEnum={})).EQUAL="=",t.INEQUAL="!=",t.LIKE="like",t.ILIKE="ilike",t.MORE=">",t.MORE_OR_EQUAL=">=",t.LESS="<",t.LESS_OR_EQUAL="<=",exports.FilterValueTypesEnum=void 0,(s=exports.FilterValueTypesEnum||(exports.FilterValueTypesEnum={})).POINTER="pointer",s.SCALAR="scalar",exports.FilterBooleansEnum=void 0,(o=exports.FilterBooleansEnum||(exports.FilterBooleansEnum={})).AND="and",o.OR="or",exports.FilterTypesEnum=void 0,(r=exports.FilterTypesEnum||(exports.FilterTypesEnum={})).GROUP="group",r.SINGLE="single",exports.JoinTypesEnum=void 0,(i=exports.JoinTypesEnum||(exports.JoinTypesEnum={})).LEFT="left",i.RIGHT="right",i.FULL="full",i.INNER="inner",exports.OrderDirectionsEnum=void 0,(a=exports.OrderDirectionsEnum||(exports.OrderDirectionsEnum={})).ASC="asc",a.DESC="desc",exports.OrderNullPositionsEnum=void 0,(n=exports.OrderNullPositionsEnum||(exports.OrderNullPositionsEnum={})).FIRST="first",n.LAST="last",exports.ResponseTypeEnum=void 0,(p=exports.ResponseTypeEnum||(exports.ResponseTypeEnum={})).RESOURCE="resource",p.EXPORT="export",exports.FileExportTypesEnum=void 0,(u=exports.FileExportTypesEnum||(exports.FileExportTypesEnum={})).XLSX="xlsx",u.CSV="csv",exports.ExportEncodingTypesEnum=void 0,(E=exports.ExportEncodingTypesEnum||(exports.ExportEncodingTypesEnum={})).UTF_8="utf-8",E.WINDOWS_1251="windows-1251",exports.RequestOrmMethodsEnum=void 0,(d=exports.RequestOrmMethodsEnum||(exports.RequestOrmMethodsEnum={})).SEARCH="search",d.GET_BY_ID="get_by_id",d.CREATE="create",d.UPDATE="update",d.DELETE="delete";const l="{key}";exports.CubekitOrmClient=class{axios;constructor(e){this.axios=x.create({baseURL:e.baseUrl,withCredentials:!0,headers:{"x-api-key":e.serviceKey}})}setConfig(e){this.axios.defaults.baseURL=e.baseUrl,this.axios.defaults.headers["x-api-key"]=e.serviceKey}setAuthorizationHeader(e){this.axios.defaults.headers.Authorization=e}send(e){switch(e.method){case exports.RequestOrmMethodsEnum.GET_BY_ID:return this.getById(e);case exports.RequestOrmMethodsEnum.CREATE:return this.create(e);case exports.RequestOrmMethodsEnum.UPDATE:return this.update(e);case exports.RequestOrmMethodsEnum.DELETE:return this.delete(e);default:return this.search(e)}}preparePathWithId(e,t){return e=e.indexOf(l)>-1?e.replace(l,t):"/"===e.slice(-1)?`${e}${t}`:`${e}/${t}`}search(e){let t=e.path;const s=e.options;return s.pagination&&(t+="?",s.pagination.limit&&(t=`${t}limit=${s.pagination.limit}&`),s.pagination.page&&(t=`${t}page=${s.pagination.page}`)),delete s.pagination,this.axios.post(t,s)}getById(e){const t=e.options;return this.axios.post(this.preparePathWithId(e.path,t.id),t)}create(e){return this.axios.post(e.path,e.options)}update(e){const t=e.options;return this.axios.put(this.preparePathWithId(e.path,t.id),e.options)}delete(e){const t=e.options;return this.axios.delete(this.preparePathWithId(e.path,t.id),{data:e.options})}},exports.CubekitStorageClient=class{axios;storageId=null;constructor(e){this.storageId=e.storageId,this.axios=x.create({baseURL:e.baseUrl,withCredentials:!0,headers:{"x-api-key":e.serviceKey}})}setConfig(e){this.storageId=e.storageId,this.axios.defaults.baseURL=e.baseUrl,this.axios.defaults.headers["x-api-key"]=e.serviceKey}setAuthorizationHeader(e){this.axios.defaults.headers.Authorization=e}};
//# sourceMappingURL=index.js.map
