"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t,s,o,r,i,p,n,a,E,u,x=require("axios");exports.OperatorsEnum=void 0,(e=exports.OperatorsEnum||(exports.OperatorsEnum={})).EQUAL="=",e.INEQUAL="!=",e.LIKE="like",e.ILIKE="ilike",e.MORE=">",e.MORE_OR_EQUAL=">=",e.LESS="<",e.LESS_OR_EQUAL="<=",exports.FilterValueTypesEnum=void 0,(t=exports.FilterValueTypesEnum||(exports.FilterValueTypesEnum={})).POINTER="pointer",t.SCALAR="scalar",exports.FilterBooleansEnum=void 0,(s=exports.FilterBooleansEnum||(exports.FilterBooleansEnum={})).AND="and",s.OR="or",exports.FilterTypesEnum=void 0,(o=exports.FilterTypesEnum||(exports.FilterTypesEnum={})).GROUP="group",o.SINGLE="single",exports.JoinTypesEnum=void 0,(r=exports.JoinTypesEnum||(exports.JoinTypesEnum={})).LEFT="left",r.RIGHT="right",r.FULL="full",r.INNER="inner",exports.OrderDirectionsEnum=void 0,(i=exports.OrderDirectionsEnum||(exports.OrderDirectionsEnum={})).ASC="asc",i.DESC="DESC",exports.OrderNullPositionsEnum=void 0,(p=exports.OrderNullPositionsEnum||(exports.OrderNullPositionsEnum={})).FIRST="first",p.LAST="last",exports.ResponseTypeEnum=void 0,(n=exports.ResponseTypeEnum||(exports.ResponseTypeEnum={})).RESOURCE="resource",n.EXPORT="export",exports.FileExportTypesEnum=void 0,(a=exports.FileExportTypesEnum||(exports.FileExportTypesEnum={})).XLSX="xlsx",a.CSV="csv",exports.ExportEncodingTypesEnum=void 0,(E=exports.ExportEncodingTypesEnum||(exports.ExportEncodingTypesEnum={})).UTF_8="utf-8",E.WINDOWS_1251="windows-1251",exports.RequestMethodsEnum=void 0,(u=exports.RequestMethodsEnum||(exports.RequestMethodsEnum={})).SEARCH="search",u.GET_BY_ID="get_by_id",u.CREATE="create",u.UPDATE="update",u.DELETE="delete";const d="{key}";exports.default=class{axios;constructor(e){this.axios=x.create({baseURL:e.baseUrl,withCredentials:!0,headers:{"x-api-key":e.serviceKey}})}setConfig(e){this.axios.defaults.baseURL=e.baseUrl,this.axios.defaults.headers["x-api-key"]=e.serviceKey}send(e){switch(e.method){case exports.RequestMethodsEnum.GET_BY_ID:return this.getById(e);case exports.RequestMethodsEnum.CREATE:return this.create(e);case exports.RequestMethodsEnum.UPDATE:return this.update(e);case exports.RequestMethodsEnum.DELETE:return this.delete(e);default:return this.search(e)}}preparePathWithId(e,t){return e=e.indexOf(d)>-1?e.replace(d,t):"/"===e.slice(-1)?`${e}${t}`:`${e}/${t}`}search(e){let t=e.path;const s=e.options;return s.pagination&&(t+="?",s.pagination.limit&&(t=`${t}limit=${s.pagination.limit}&`),s.pagination.page&&(t=`${t}page=${s.pagination.page}`)),delete s.pagination,this.axios.post(t,s)}getById(e){const t=e.options;return this.axios.post(this.preparePathWithId(e.path,t.id),t)}create(e){return this.axios.post(e.path,e.options)}update(e){const t=e.options;return this.axios.put(this.preparePathWithId(e.path,t.id),e.options)}delete(e){const t=e.options;return this.axios.delete(this.preparePathWithId(e.path,t.id),{data:e.options})}};
//# sourceMappingURL=index.js.map
