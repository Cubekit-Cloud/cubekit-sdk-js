import t from"axios";var e,i,s,a,o,r,n,h,c,d,p,u;!function(t){t.SYNC="sync",t.ATTACH="attach",t.DETACH="detach"}(e||(e={})),function(t){t.EQUAL="=",t.INEQUAL="!=",t.LIKE="like",t.ILIKE="ilike",t.MORE=">",t.MORE_OR_EQUAL=">=",t.LESS="<",t.LESS_OR_EQUAL="<="}(i||(i={})),function(t){t.POINTER="pointer",t.SCALAR="scalar"}(s||(s={})),function(t){t.AND="and",t.OR="or"}(a||(a={})),function(t){t.GROUP="group",t.SINGLE="single"}(o||(o={})),function(t){t.LEFT="left",t.RIGHT="right",t.FULL="full",t.INNER="inner"}(r||(r={})),function(t){t.ASC="asc",t.DESC="desc"}(n||(n={})),function(t){t.FIRST="first",t.LAST="last"}(h||(h={})),function(t){t.RESOURCE="resource",t.EXPORT="export"}(c||(c={})),function(t){t.XLSX="xlsx",t.CSV="csv"}(d||(d={})),function(t){t.UTF_8="utf-8",t.WINDOWS_1251="windows-1251"}(p||(p={})),function(t){t.SEARCH="search",t.GET_BY_ID="get_by_id",t.CREATE="create",t.UPDATE="update",t.DELETE="delete"}(u||(u={}));const l="{key}";class E{axios;constructor(e){this.axios=t.create({baseURL:e.baseUrl,withCredentials:!0,headers:{"x-api-key":e.serviceKey}})}setConfig(t){this.axios.defaults.baseURL=t.baseUrl,this.axios.defaults.headers["x-api-key"]=t.serviceKey}setAuthorizationHeader(t){this.axios.defaults.headers.Authorization=t}send(t){switch(t.method){case u.GET_BY_ID:return this.getById(t);case u.CREATE:return this.create(t);case u.UPDATE:return this.update(t);case u.DELETE:return this.delete(t);default:return this.search(t)}}preparePathWithId(t,e){return t=t.indexOf(l)>-1?t.replace(l,e):"/"===t.slice(-1)?`${t}${e}`:`${t}/${e}`}search(t){let e=t.path;const i=t.options;return i.pagination&&(e+="?",i.pagination.limit&&(e=`${e}limit=${i.pagination.limit}&`),i.pagination.page&&(e=`${e}page=${i.pagination.page}`)),delete i.pagination,this.axios.post(e,i)}getById(t){const e=t.options;return this.axios.post(this.preparePathWithId(t.path,e.id),e)}create(t){return this.axios.post(t.path,t.options)}update(t){const e=t.options;return this.axios.put(this.preparePathWithId(t.path,e.id),t.options)}delete(t){const e=t.options;return this.axios.delete(this.preparePathWithId(t.path,e.id),{data:t.options})}}class f{axios;storageId=null;constructor(e){this.storageId=e.storageId,this.axios=t.create({baseURL:e.baseUrl,withCredentials:!0,headers:{"x-api-key":e.serviceKey}})}setConfig(t){this.storageId=t.storageId,this.axios.defaults.baseURL=t.baseUrl,this.axios.defaults.headers["x-api-key"]=t.serviceKey}setAuthorizationHeader(t){this.axios.defaults.headers.Authorization=t}}export{E as CubekitOrmClient,f as CubekitStorageClient,p as ExportEncodingTypesEnum,d as FileExportTypesEnum,a as FilterBooleansEnum,o as FilterTypesEnum,s as FilterValueTypesEnum,r as JoinTypesEnum,i as OperatorsEnum,n as OrderDirectionsEnum,h as OrderNullPositionsEnum,e as RelationsModesEnum,u as RequestOrmMethodsEnum,c as ResponseTypeEnum};
//# sourceMappingURL=index.js.map
