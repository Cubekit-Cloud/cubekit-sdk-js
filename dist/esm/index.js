import t from"axios";var e,a,i,s,r,o,n,h,p,d,c,u;!function(t){t.SYNC="sync",t.ATTACH="attach",t.DETACH="detach"}(e||(e={})),function(t){t.EQUAL="=",t.INEQUAL="!=",t.LIKE="like",t.ILIKE="ilike",t.MORE=">",t.MORE_OR_EQUAL=">=",t.LESS="<",t.LESS_OR_EQUAL="<="}(a||(a={})),function(t){t.POINTER="pointer",t.SCALAR="scalar"}(i||(i={})),function(t){t.AND="and",t.OR="or"}(s||(s={})),function(t){t.GROUP="group",t.SINGLE="single"}(r||(r={})),function(t){t.LEFT="left",t.RIGHT="right",t.FULL="full",t.INNER="inner"}(o||(o={})),function(t){t.ASC="asc",t.DESC="desc"}(n||(n={})),function(t){t.FIRST="first",t.LAST="last"}(h||(h={})),function(t){t.RESOURCE="resource",t.EXPORT="export"}(p||(p={})),function(t){t.XLSX="xlsx",t.CSV="csv"}(d||(d={})),function(t){t.UTF_8="utf-8",t.WINDOWS_1251="windows-1251"}(c||(c={})),function(t){t.SEARCH="search",t.GET_BY_ID="get_by_id",t.CREATE="create",t.UPDATE="update",t.DELETE="delete"}(u||(u={}));const l="{key}";class E{axios;constructor(e){this.axios=t.create({baseURL:e.baseUrl,withCredentials:!0,headers:{"x-api-key":e.serviceKey}})}setConfig(t){this.axios.defaults.baseURL=t.baseUrl,this.axios.defaults.headers["x-api-key"]=t.serviceKey}setAuthorizationHeader(t){this.axios.defaults.headers.Authorization=t}send(t){switch(t.method){case u.GET_BY_ID:return this.getById(t);case u.CREATE:return this.create(t);case u.UPDATE:return this.update(t);case u.DELETE:return this.delete(t);default:return this.search(t)}}preparePathWithId(t,e){return t=t.indexOf(l)>-1?t.replace(l,e):"/"===t.slice(-1)?`${t}${e}`:`${t}/${e}`}search(t){let e=t.path;const a=t.options;return a.pagination&&(e+="?",a.pagination.limit&&(e=`${e}limit=${a.pagination.limit}&`),a.pagination.page&&(e=`${e}page=${a.pagination.page}`)),delete a.pagination,this.axios.post(e,a)}getById(t){const e=t.options;return this.axios.post(this.preparePathWithId(t.path,e.id),e)}create(t){return this.axios.post(t.path,t.options)}update(t){const e=t.options;return this.axios.put(this.preparePathWithId(t.path,e.id),t.options)}delete(t){const e=t.options;return this.axios.delete(this.preparePathWithId(t.path,e.id),{data:t.options})}}class f{axios;constructor(e){this.axios=t.create({baseURL:e.baseUrl,withCredentials:!0,headers:{"x-api-key":e.serviceKey}})}setConfig(t){this.axios.defaults.baseURL=t.baseUrl,this.axios.defaults.headers["x-api-key"]=t.serviceKey}setAuthorizationHeader(t){this.axios.defaults.headers.Authorization=t}getFolderTree(t){return this.axios.get(`/tree?path=${t||"/"}`).then((t=>t.data.data))}view(t){return this.axios.get(`/view?path=${t||"/"}`).then((t=>t.data.data))}createDirectory(t){return this.axios.post(`/createDirectory?path=${t}`).then((t=>t.data))}delete(t){return this.axios.delete("/delete",{data:t}).then((t=>t.data))}upload(t,e,a,i){const s=new FormData;return s.append("file",e),this.axios.post(`/upload?path=${t}&file_name=${a}`,s,{onUploadProgress:i,headers:{"Content-Type":"multipart/form-data"}}).then((t=>t.data))}simpleUpload(t,e,a){const i=new FormData;return i.append("file",e),this.axios.post(`/simpleUpload?path=${t}`,i,{onUploadProgress:a,headers:{"Content-Type":"multipart/form-data"}}).then((t=>t.data))}move(t,e){return this.axios.post(`/move?source=${t}&target=${e}`).then((t=>t.data))}}export{E as CubekitOrmClient,f as CubekitStorageClient,c as ExportEncodingTypesEnum,d as FileExportTypesEnum,s as FilterBooleansEnum,r as FilterTypesEnum,i as FilterValueTypesEnum,o as JoinTypesEnum,a as OperatorsEnum,n as OrderDirectionsEnum,h as OrderNullPositionsEnum,e as RelationsModesEnum,u as RequestOrmMethodsEnum,p as ResponseTypeEnum};
//# sourceMappingURL=index.js.map
